<style>
  /* AnimaciÃ³n de la campanita */
  @keyframes bell-shake {
    0%   { transform: rotate(0deg); }
    20%  { transform: rotate(-12deg); }
    40%  { transform: rotate(12deg); }
    60%  { transform: rotate(-8deg); }
    80%  { transform: rotate(8deg); }
    100% { transform: rotate(0deg); }
  }

  .bell-anim {
    animation: bell-shake 0.9s ease-in-out;
  }
</style>


<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 shadow-sm">
  <div class="container-fluid">
    <!-- BRAND -->
    <a class="navbar-brand fw-bold text-warning" href="index.html">
      Portal BATEIL
    </a>

    <!-- BOTÃ“N HAMBURGUESA -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- CONTENIDO -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto align-items-lg-center">

        <!-- Mostrar nombre y rol del usuario -->
        <li class="nav-item d-flex align-items-center me-3" id="user-info-nav" style="display:none;">
          <div class="d-flex align-items-center gap-2">
            <!-- CÃRCULO CON INICIAL -->
            <div id="nav-user-avatar"
                 class="rounded-circle bg-warning text-dark fw-bold d-flex justify-content-center align-items-center"
                 style="width:34px; height:34px; font-size:18px;">
            </div>

            <!-- NOMBRE -->
            <span class="text-light small fw-bold" id="nav-username"></span>
          </div>
        </li>


                <!-- NOTIFICACIONES -->
        <li class="nav-item dropdown me-2" id="nav-notifications" style="display:none;">
          <a class="nav-link position-relative" href="#" role="button" data-bs-toggle="dropdown" onclick="marcarNotificacionesLeidas()">
            ğŸ””
            <span id="nav-notif-count"
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  style="font-size:0.65rem; display:none;">
              0
            </span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark small"
              id="nav-notif-list"
              style="min-width:280px; max-height:320px; overflow-y:auto;">
            <li class="dropdown-header">Notificaciones</li>
            <li>
              <span class="dropdown-item-text text-muted small">
                Sin notificaciones.
              </span>
            </li>
          </ul>
        </li>




        <!-- MenÃº desplegable por roles -->
        <li class="nav-item dropdown d-none" id="menu-roles-dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            Mis Ãreas
          </a>

          <!-- Hacemos el menÃº oscuro y con scroll si estÃ¡ muy largo -->
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark" id="dropdown-items" style="max-height: 60vh; overflow-y:auto;">

            <!-- DOCENTE y TALLERES -->
            <li class="dropdown-header d-none" id="item-docente-header">ğŸ“ Panel Docente</li>
            <li class="d-none" id="item-docente-crear"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-docente-reservar"><a class="dropdown-item" href="reservar.html">ğŸ“… Reservar Laboratorio</a></li>
            <li class="d-none" id="item-docente-mis"><a class="dropdown-item" href="mis-reservas.html">ğŸ“‹ Mis Reservas</a></li>
            <!--
            <li class="d-none" id="item-docente-falla"><a class="dropdown-item" href="reportar-falla.html">ğŸ’» Reportar Falla</a></li>
            <li class="d-none" id="item-docente-vacaciones"><a class="dropdown-item" href="solicitar-vacaciones.html">ğŸ—“ Solicitar Vacaciones</a></li>
            <li class="d-none" id="item-docente-historial"><a class="dropdown-item" href="historial-vacaciones.html">ğŸ“‹ Mi Historial</a></li>
            -->
            <li class="d-none" id="item-docente-divider"><hr class="dropdown-divider"></li>

            <!-- SOPORTE -->
            <li class="dropdown-header d-none" id="item-soporte-header">ğŸ–¥ï¸ Panel Soporte</li>
            <li class="d-none" id="item-soporte-tickets"><a class="dropdown-item" href="panel-soporte.html">ğŸ“ Tickets de Soporte</a></li>
            <li class="d-none" id="item-soporte-labs"><a class="dropdown-item" href="tickets-laboratorio.html">ğŸ§ª Tickets Laboratorio</a></li>
            <li class="d-none" id="item-soporte-divider"><hr class="dropdown-divider"></li>

            <!-- MANTENIMIENTO -->
            <li class="dropdown-header d-none" id="item-mantenimiento-header">ğŸ”§ Panel Mantenimiento</li>
            <li class="d-none" id="item-mantenimiento-tickets"><a class="dropdown-item" href="panel-soporte.html">ğŸ“ Tickets de Mantenimiento</a></li>
            <li class="d-none" id="item-mantenimiento-divider"><hr class="dropdown-divider"></li>

            <!-- ADMIN -->
            <li class="dropdown-header d-none" id="item-admin-header">ğŸ‘¨â€ğŸ’¼ Panel Admin</li>
            <li class="d-none" id="item-admin-dashboard"><a class="dropdown-item" href="dashboard.html">ğŸ“Š Dashboard</a></li>
            <li class="d-none" id="item-admin-usuarios"><a class="dropdown-item" href="usuarios.html">ğŸ‘¥ Usuarios</a></li>
            <li class="d-none" id="item-admin-tickets"><a class="dropdown-item" href="panel-admin.html">ğŸ“ Ver Tickets</a></li>
            <li class="d-none" id="item-admin-asignables">
              <a class="dropdown-item" href="tickets-asignables.html">
                ğŸ“ Tickets Asignables <span class="badge bg-danger ms-2" id="badge-asignables">0</span>
              </a>
            </li>
            <li class="d-none" id="item-admin-divider"><hr class="dropdown-divider"></li>

            <!-- RRHH -->
            <li class="dropdown-header d-none" id="item-rrhh-header">ğŸ§‘â€ğŸ’¼ Panel RRHH</li>
            <li class="d-none" id="item-rrhh-solicitudes"><a class="dropdown-item" href="vacaciones-rrhh.html">ğŸ“„ Solicitudes Recibidas</a></li>
            <li class="d-none" id="item-rrhh-ticketsoporte"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-rrhh-gestiondias"><a class="dropdown-item" href="usuarios-rrhh.html">ğŸ—“ï¸ Gestionar Fechas</a></li>
            <li class="d-none" id="item-rrhh-histDiasyTiempo"><a class="dropdown-item" href="historial-usuario.html">ğŸ“˜ Historial DÃ­as y Tiempo</a></li>
            <li class="d-none" id="item-rrhh-RegistrarUsuario"><a class="dropdown-item" href="registrar-usuarios.html">ğŸ‘¥ Registrar usuario</a></li>
            <li class="d-none" id="item-rrhh-divider"><hr class="dropdown-divider"></li>

            <!-- DIRECCIÃ“N -->
            <li class="dropdown-header d-none" id="item-direccion-header">ğŸ« Panel DirecciÃ³n</li>
            <li class="d-none" id="item-direccion-crear"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-direccion-panelCalificaciones"><a class="dropdown-item" href="panel-calificaciones.html">ğŸ“Š Panel de Calificaciones</a></li>
            <li class="d-none" id="item-direccion-subirCalificaciones"><a class="dropdown-item" href="subir-calificaciones.html">ğŸ“¤ Subir Calificaciones</a></li>
            <li id="item-direccion-historial" class="d-none"><a class="dropdown-item" href="historial-tickets.html">ğŸ“š Historial de Tickets</a></li>
            <li class="d-none" id="item-direccion-divider"><hr class="dropdown-divider"></li>

            <!-- SUBDIRECCIÃ“N -->
            <li class="dropdown-header d-none" id="item-subdireccion-header">ğŸ“˜ Panel SubdirecciÃ³n</li>
            <li class="d-none" id="item-subdireccion-crear"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-subdireccion-revision"><a class="dropdown-item" href="vacaciones-revision.html">ğŸ“„ Revisar Vacaciones</a></li>
            <li class="d-none" id="item-subdireccion-tiempo"><a class="dropdown-item" href="tiempo-crear.html">â± Registrar Tiempo por Tiempo</a></li>
            <li class="d-none" id="item-subdireccion-soltxt"><a class="dropdown-item" href="tiempo-revision-subdireccion.html">â± Solicitudes TxT</a></li>
            <li class="d-none" id="item-subdireccion-panelCalificaciones"><a class="dropdown-item" href="panel-calificaciones.html">ğŸ“Š Panel de Calificaciones</a></li>
            <li class="d-none" id="item-subdireccion-subirCalificaciones"><a class="dropdown-item" href="subir-calificaciones.html">ğŸ“¤ Subir Calificaciones</a></li>
            <li id="item-subdireccion-historial" class="d-none"><a class="dropdown-item" href="historial-tickets.html">ğŸ“š Historial de Tickets</a></li>
            <li class="d-none" id="item-subdireccion-divider"><hr class="dropdown-divider"></li>

            <!-- FINANZAS -->
            <li class="dropdown-header d-none" id="item-finanzas-header">ğŸ’° Panel Finanzas</li>
            <li class="d-none" id="item-finanzas-dashboard"><a class="dropdown-item" href="dashboard.html">ğŸ“Š Dashboard</a></li>
            <li class="d-none" id="item-finanzas-crear"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-finanzas-tickets"><a class="dropdown-item" href="panel-admin.html">ğŸ“ Ver Tickets</a></li>
            <li class="d-none" id="item-finanzas-revision"><a class="dropdown-item" href="vacaciones-revision.html">ğŸ“„ Revisar Vacaciones</a></li>
            <li class="d-none" id="item-finanzas-tiempo"><a class="dropdown-item" href="tiempo-crear.html">â± Registrar Tiempo por Tiempo</a></li>
            <li class="d-none" id="item-finanzas-revisiontiempo"><a class="dropdown-item" href="tiempo-revision.html">ğŸ“ Aprobar Tiempo por Tiempo</a></li>
            <li id="item-finanzas-historial" class="d-none"><a class="dropdown-item" href="historial-tickets.html">ğŸ“š Historial de Tickets</a></li>
            <li class="d-none" id="item-finanzas-divider"><hr class="dropdown-divider"></li>

            <!-- COORDINACIÃ“N D -->
            <li class="dropdown-header d-none" id="item-coordinacionD-header">ğŸ“˜ Panel CoordinaciÃ³n D</li>
            <li class="d-none" id="item-coordinacionD-crear"><a class="dropdown-item" href="crear-ticket.html">ğŸ› ï¸ Crear Ticket</a></li>
            <li class="d-none" id="item-coordinacionD-reservas"><a class="dropdown-item" href="coordinacion-reservas.html">ğŸ“… Reservas de Laboratorios</a></li>
            <li class="d-none" id="item-coordinacionD-divider"><hr class="dropdown-divider"></li>

          </ul>
        </li>

        <!-- BOTÃ“N CERRAR SESIÃ“N -->
        <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
          <button class="btn btn-sm btn-outline-danger" type="button" onclick="logout()">
             Cerrar sesiÃ³n
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

